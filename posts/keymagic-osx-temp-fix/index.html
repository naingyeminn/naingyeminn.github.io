	
	<!doctype html>
<html lang="en">
  <head>    
    <title>Naing Ye Minn - KeyMagic Lock Screen Issue in OS X</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

    
    <link href="/css/milk.min.css" rel="stylesheet">
    <link href="/css/milk-responsive.min.css" rel="stylesheet">     
    <link href="/css/style.css" rel="stylesheet" type="text/css" media="all">
    <link href="/css/fonts.css" rel="stylesheet" type="text/css" media="all">
    <script src="https://use.fontawesome.com/52ab3615c7.js"></script>
    <link rel="shortcut icon" href="/images/me-icon.ico"> 
    <link rel="apple-touch-icon" href="">
    <link rel="canonical" href="http://naingyeminn.com/posts/keymagic-osx-temp-fix/">

    
    <link href="/rss.xml" type="application/atom+xml" rel="alternate" title="Naing Ye` Minn">    

  </head>
  <body>
    <div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.0";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
    <div id="contact" class="overlay">
  <div class="popup">
    <a class="close" href="#/">&times;</a>
    <div class="content">
    	<ul>
    		<li><a href="mailto:me@naingyeminn.com"><i class="fa fa-envelope" aria-hidden="true"></i></a></li>

    		<li><a href="https://github.com/naingyeminn" target="_blank"><i class="fa fa-github" aria-hidden="true"></i></a></li>
    		<li><a href="https://plus.google.com/107143022418508884720" target="_blank"><i class="fa fa-google-plus" aria-hidden="true"></i></a></li>
    		<li><a href="https://www.facebook.com/nyeminn" target="_blank"><i class="fa fa-facebook-official" aria-hidden="true"></i></a></li>
    		<li><a href="https://www.linkedin.com/in/naingyeminn" target="_blank"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li>

    	</ul> 
    </div>
  </div>
</div>


<div class="navbar navbar-fixed-top">        
  <div id="navbar-inner">
          <div id="logo">
            <a href="/"><img src="/images/me-circle.png" width="100px"></img></a>
          </div>
  </div>
</div>

<div class="container">
  <div class="content">
    <div class="row-fluid">
      <div class="span12">
        <div class="posts">
      

	    
	  <div class="post">
	    <header class="post-header">
	        <h1><a href="/posts/keymagic-osx-temp-fix/">KeyMagic Lock Screen Issue in OS X</a></h1>
	        <div class="post-time">August 6 2016</div>
	    </header>
	    <div class="post-after">
	        <div class="tags">
	            
	                <a href="http://naingyeminn.com//tags/unicode">unicode</a>              
	            
	                <a href="http://naingyeminn.com//tags/keyboard">keyboard</a>              
	            
	                <a href="http://naingyeminn.com//tags/input">input</a>              
	            
	                <a href="http://naingyeminn.com//tags/keymagic">keymagic</a>              
	            
	                <a href="http://naingyeminn.com//tags/osx">osx</a>              
	            
	        </div>
	    </div>
	    <hr>
	    <div class="post content">
	        <p>Mac OS X စသုံးစဉ်က Unicode Keyboard အနေနဲ့အသုံးများတဲ့ KeyMagic ကိုပဲသုံးဖို့ကြိုးစားခဲ့ပါတယ်။ သို့ပေမယ့်ပြဿနာရှိတာက KeyMagic ကိုသုံးပြီးစာရိုက်နေရာကနေ ခဏနားလိုက်လို့ Screen Lock ဖြစ်သွားတာနဲ့ Password ပြန်ရိုက်ပြီး ပြန်ဝင်လို့မရတာပါ။ OS X အတွက် တစ်ခုတည်းသော Smart Keyboard ဖြစ်ပေမယ့် အဲဒီ ပြဿနာလေးတစ်ခုနဲ့တင် ဆက်မသုံးဖြစ်တော့တာပါ။ ကိုယ်တိုင်ပဲ <a href="http://naingyeminn.com/posts/myanmar-unicode-keyboard-for-yosemite/">Myanmar3 Layout</a> အတိုင်း ရိုးရိုး Keyboard တစ်ခု Ukelele နဲ့လုပ်ပြီး သုံးဖြစ်ခဲ့တယ်။ အခုနောက်ပိုင်း အခြား တိုင်းရင်းသား ယူနီကုဒ် Keyboard Layout လေးတွေ လုပ်ပေးရင်းနဲ့မှ Keyboard တွေနဲ့ပတ်သက်ပြီးနည်းနည်းလေ့လာဖြစ်လာတယ်။ Smart Keyboard ဖြစ်တဲ့ Keyman ကလည်း OS X အတွက်ထွက်လာတော့ ရှိပြီးသား Keyboard Layout လေးတွေပြန်စုစည်းပြီး မရှိသေးတဲ့ ရှမ်း Keyboard Layout လေးပါထက်လုပ်ဖြစ်တယ်။ အခြား တိုင်းရင်းသားဘာသာစကားတွေအတွက်လည်း ထပ်လုပ်ဖို့ စိတ်ကူးရှိပေမယ့် Keyman ကလောလောဆယ်သာ Free ပေးထားပြီး နောက်ပိုင်း Commercial ပြောင်းသွားနိုင်တာမို့ သိပ်တော့အားမရဘူး။ ဒါပေမယ့် မနေ့ကတော့ OS X ရဲ့ KeyMagic မှာတက်နေတဲ့ ပြဿနာအတွက် tweak လုပ်လို့ရမယ့်နည်းလေးရှာတွေ့သွားတယ်။ နည်းလမ်းတကျ ဖြေရှင်းတာမဟုတ်ပေမယ့် အလုပ်ဖြစ်တဲ့အတွက် Share လိုက်ပါတယ်။ ဘာပဲဖြစ်ဖြစ် KeyMagic ကတော့ Open Source ဖြစ်တာရော၊ Keyboard Layout လည်းစုံစုံလင်လင်ရှိနှင့်ပြီးသားဆိုတော့ OS X User တွေအတွက် ပိုအဆင်ပြေလိမ့်မယ်ထင်ပါတယ်။</p>

<p>အခု ဖြေရှင်းတဲ့နည်းလမ်းကတော့ KeyMagic ကို Burmese Input Sources category ထဲပြောင်းပေးတာပါ။ နားလည်သလောက်ပြောရရင် OS X အနေနဲ့ သူ Support လုပ်ထားတဲ့ Language တွေအတွက် Input လက်ခံရယူမယ့်ပုံစံပေါ်မူတည်ပြီး Layout ကို English အနေနဲ့ အလိုအလျောက်ပြောင်းအောင်လုပ်ပေးထားပါတယ်။ OS X က Burmese Input Sources category ကို အဲဒီ Function ထောက်ပံ့ပေးထားတာဖြစ်တဲ့အတွက် Burmese category အောက်မှာရှိတဲ့ Keyboard တိုင်းဟာ Password ရိုက်ခိုင်းတဲ့နေရာမျိုး တိုင်းလိုလိုမှာ English ကိုအလိုအလျောက် ပြောင်းသွားမှာဖြစ်ပါတယ်။ KeyMagic ကိုအဲ့လိုဖြစ်အောင်လုပ်ဖို့လိုတာပါ။ သူ့ကိုသုံးပြီးမြန်မာလိုစာရိုက်နေရာကနေ Screen Lock ကျသွားတာကြောင့်ပဲဖြစ်ြဖစ်၊ Sleep ဖြစ်သွားတာကြောင့်ပဲဖြစ်ဖြစ် Login ပြန်ဝင်ဖို့လုပ်တဲ့အခါ Password ရိုက်မရတာ English ပြန်ပြောင်းမပေးတာကြောင့်ပါပဲ။</p>

<p>KeyMagic က Default အနေနဲ့ English category အောက်မှာရှိနေတာပါ။ Burmese အောက်ကိုပြောင်းဖို့အတွက်ကတော့ <code>KeyMagic.app</code> ရဲ့ Content ထဲက <code>Info.plist</code> ဆိုတဲ့ဖိုင်မှာဝင်ပြင်ပေးရတာပါ။</p>

<pre><code class="language-xml">&lt;key&gt;TISIntendedLanguage&lt;/key&gt;
&lt;string&gt;my_BU&lt;/string&gt;
</code></pre>

<p>ဆိုတဲ့ Key နဲ့ String Value ကိုထပ်ဖြည့်ပေးရမှာဖြစ်ပါတယ်။</p>

<p>ဒီကိစ္စကို KeyMagic Developer ဖြစ်တဲ့ သန့်သက်နဲ့ ပြောကြည့်ပေမယ့် သူ့အနေနဲ့ KeyMagic ကို Burmese အောက်ထားတာမသင့်တော်တဲ့အတွက် အခြားနည်းလမ်းရှာကြည့်ဦးမယ်လို့တော့ဆိုပါတယ်။ ဘာကြောင့်လည်းဆိုတော့ KeyMagic ကို အခြားနိုင်ငံတွေမှာလည်းသုံးနေတာဖြစ်တဲ့အတွက် Burmese အောက်မထားတာပါ။</p>

<p>မြန်မာနိုင်ငံကလူတွေအတွက်တော့ Burmese အောက်ရောက်တာပြဿနာမရှိတာကြောင့် ယာယီအနေနဲ့ ပြောင်းရလွယ်အောင် Script လေးလုပ်ပေးလိုက်ပါတယ်။ အဓိကက KeyMagic အသုံးပြုသူတွေ Proper Fix မထွက်ခင် အဆင်ပြေပြေသုံးနိုင်ဖို့အတွက်ရည်ရွယ်ပြီး ရေးပေးထားတာပါ။</p>

<blockquote>
<p>အင်တာနက် ချိပ်ဆက်ထားဖို့တော့လိုအပ်ပါတယ်။</p>
</blockquote>

<p>Fix မလုပ်ခင် ပထမဦးဆုံး KeyMagic ကို Input List ထဲမှ ခဏထုတ်ထားလိုက်ပါ။</p>

<p>KeyMagic ကိုရွေးပြီး <strong>-</strong> button လေးကိုနှိပ်လိုက်ပါ။</p>

<p><img src="https://raw.githubusercontent.com/naingyeminn/nym_blog_data/master/Photos/kmfix/kmfix01.png" alt="kmfix01" /></p>

<p>Trash ထဲထည့်မလားမေးရင် Keep File ကိုရွေးလိုက်ပါ။</p>

<p><img src="https://raw.githubusercontent.com/naingyeminn/nym_blog_data/master/Photos/kmfix/kmfix02.png" alt="kmfix02" /></p>

<p>ပြီးရင်တော့ <strong>Keyboard Preferences</strong> ကို ပြန်ပိတ်ထားလိုက်ပြီး <strong>Terminal</strong> ကိုဖွင့်လိုက်ပါ။</p>

<p>ပေးထားတဲ့ command ကို Terminal ထဲကူးထည့်ပြီး Enter နှိပ်လိုက်ပါ။</p>

<pre><code class="language-sh">sh -c &quot;$(curl -fsSL https://raw.githubusercontent.com/naingyeminn/nym_blog_data/master/osx/kmfix)&quot;
</code></pre>

<p><img src="https://raw.githubusercontent.com/naingyeminn/nym_blog_data/master/Photos/kmfix/kmfix03.png" alt="kmfix03" /></p>

<p>ပုံထဲကအတိုင်း <code>Set Language as my_BU</code> လို့ပေါ်လာရင်ရပါပြီ။</p>

<p>Input List ထဲ KeyMagic ကို ပြန်ထည့်ရုံပါပဲ။</p>

<p>ဒီတစ်ခါ <strong>Keyboard Preferences</strong> ထဲပြန်ဝင်လိုက်ရင် KeyMagic ကို Burmese အောက်ရောက်နေတာတွေ့ရပါလိမ့်မယ်။</p>

<p><strong>KeyMagic</strong> ကိုရွေးပြီး <strong>Add</strong> ကို နှိပ်လိုက်ပါ။</p>

<p><img src="https://raw.githubusercontent.com/naingyeminn/nym_blog_data/master/Photos/kmfix/kmfix04.png" alt="kmfix04" /></p>

<p>List ထဲ KeyMagic ကို ပြန်တွေ့ရပြီဆိုရင်တော့ ပြန်သုံးလို့ရပါပြီ။ Password ရိုက်မရတဲ့ပြဿနာရှင်းသွားပါလိမ့်မယ်။</p>

<p><img src="https://raw.githubusercontent.com/naingyeminn/nym_blog_data/master/Photos/kmfix/kmfix05.png" alt="kmfix05" /></p>

<p>မပြောင်းချင်ဘူး မူလအတိုင်းပဲပြန်ထားချင်တယ်ဆိုရင်လည်း အပေါ်ကအတိုင်း KeyMagic ကို Input List ထဲကနေခဏထုတ်ပြီး ပေးထားတဲ့ Command ကို Terminal မှာ ပြန် Run လိုက်ပါ။</p>

<p>Rollback လုပ်မလားမေးရင် <code>y</code> key ကို နှိပ်လိုက်ရုံပါပဲ။</p>

<p><img src="https://raw.githubusercontent.com/naingyeminn/nym_blog_data/master/Photos/kmfix/kmfix06.png" alt="kmfix06" /></p>

<p>ဒါကတော့ Script ရဲ့ Source ပါ။</p>

<pre><code class="language-sh">#!/bin/bash
#This script is just a temporary fix for KeyMagic issue in Mac OS X login.
#Written by NAING YE MINN &lt;me@naingyeminn.com&gt;

FILE=&quot;/Library/Input Methods/KeyMagic.app/Contents/Info.plist&quot;
isLang=$(cat &quot;$FILE&quot; | grep &quot;my_BU&quot; | wc -l)
vcheck=$(cat &quot;$FILE&quot; | grep &quot;1.5.1&quot; | wc -l)

km151() {
	sudo sed -i.bak 's/mul/my_BU/' &quot;$FILE&quot;
}

km150() {
	awk '/KeyMagic_black.icns/ {print; print &quot;\t&lt;key&gt;TISIntendedLanguage&lt;/key&gt;\n\t&lt;string&gt;my_BU&lt;/string&gt;&quot;; next }1' &quot;$FILE.bak&quot; &gt; &quot;$FILE&quot;
}

setLang() {
	if [ $vcheck == 1 ]
	then
		km151
		echo &quot;Set Language as my_BU&quot;
	else
		if [ -f &quot;$FILE.bak&quot; ]
		then
			km150
			echo &quot;Set Language as my_BU&quot;
		else
			cp &quot;$FILE&quot; &quot;$FILE.bak&quot;
			km150
			echo &quot;Set Language as my_BU&quot;
		fi
	fi
}

rollback() {
	read -p &quot;Want to rollback? [y/N]&quot; -n 1 -r
	if [[ $REPLY =~ ^[Yy]$ ]]
	then
		if [ $vcheck == 1 ]
		then
			sudo cp &quot;$FILE.bak&quot; &quot;$FILE&quot;
		else
			cp &quot;$FILE.bak&quot; &quot;$FILE&quot;
		fi
		echo &quot;&quot;
		echo &quot;Successfully rollback&quot;
	else
		echo &quot;&quot;
		echo &quot;Did not rollback&quot;
	fi
}

if [ -f &quot;$FILE&quot; ]; then
	if [ $isLang == 1 ]
	then
		echo &quot;Language has already been set&quot;
		rollback
	else
		setLang
	fi
fi
</code></pre>

<p>အားလုံးပဲ အဆင်ပြေကြပါစေ။ :)</p>

<blockquote>
<p>Update: September 1 2016</p>

<p>အသစ်ထွက်လာတဲ့ KeyMagic 1.5.1 အတွက်ပါ ထပ်မံဖြည့်စွက်ပေးထားပါတယ်။ :)</p>
</blockquote>

	    </div>
	    
	    <div class="fblike">
	    		<div class="fb-like" data-href="/posts/keymagic-osx-temp-fix/" data-layout="button_count" data-action="like" data-show-faces="true" data-share="true"></div>
	    </div><br>
	<div class="about">
	<p> 
     
    </p>
</div>
		<nav id="pagination">
			<a class="prev" href="http://naingyeminn.com/posts/udacity-downloader-in-bash/">Prev</a>
			<a class="next" href="http://naingyeminn.com/posts/myanmar-unicode-keyboards-for-ubuntu/">Next</a>
		</nav>
	<p>
		<div class="row">
      <div class="small-offset-1 small-10 columns">
        <div id="disqus_thread"></div>
        <script type="text/javascript">
        var disqus_shortname = 'naingyeminn';
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      </div>
    </div>
    
	<p>
	<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-49993355-1']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
	
		        <footer>
		        	Build with <a href="https://github.com/spf13/hugo">Hugo</a> 
		        	<p class="contact">Copyright © 2014 <a class="button" href="#contact">Naing Ye` Minn</a></p>
		        </footer>
		    </div>
		  </div>    
      </div>
    </div>
</body>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-49993355-1']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</html>

